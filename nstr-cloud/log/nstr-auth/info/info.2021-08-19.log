2021-08-19 10:10:22 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 10:10:22 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-19 10:10:22 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-19 10:10:23 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1629339023609,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3021592117741480} from /192.168.1.10
2021-08-19 10:10:23 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 10:10:23 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 10:10:26 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-19 10:10:29 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-19 10:10:29 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-19 10:10:34 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-19 10:10:34 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-19 10:10:34 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-19 10:10:34 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-19 10:10:34 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-19 10:10:36 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-19 10:10:36 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-19 10:10:36 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 28ms. Found 0 Redis repository interfaces.
2021-08-19 10:10:36 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=643a4c8d-e45a-3f82-a4bb-ad76c98a1153
2021-08-19 10:10:36 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@60fc7f43' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 10:10:36 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$92bc74a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 10:10:36 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 10:10:36 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 10:10:36 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$fe6b0cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 10:10:37 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 10:10:37 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-19 10:10:37 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-19 10:10:37 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-19 10:10:37 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-19 10:10:37 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-19 10:10:37 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 3188 ms
2021-08-19 10:10:38 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 10:10:38 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5ad40184
2021-08-19 10:10:38 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-19 10:10:39 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-19 10:10:39 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-19 10:10:39 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-19 10:10:41 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11d0bff5, org.springframework.security.web.context.SecurityContextPersistenceFilter@5687ade6, org.springframework.security.web.header.HeaderWriterFilter@4d145177, org.springframework.security.web.authentication.logout.LogoutFilter@5cca5ff3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@57a0aeb8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@519a81dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77b01226, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c1fed69, org.springframework.security.web.session.SessionManagementFilter@4e9d203e, org.springframework.security.web.access.ExceptionTranslationFilter@224e7aa5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@70a91d72]
2021-08-19 10:10:41 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28b16193, org.springframework.security.web.context.SecurityContextPersistenceFilter@33a58fcb, org.springframework.security.web.header.HeaderWriterFilter@44181746, org.springframework.security.web.authentication.logout.LogoutFilter@5c8e7687, com.nstr.auth.filter.ValidateCodeFilter@2dd08ff1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5eadc347, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36a8ebca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@328e687e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78e34499, org.springframework.security.web.session.SessionManagementFilter@21fa19e4, org.springframework.security.web.access.ExceptionTranslationFilter@4198921f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@743b7025]
2021-08-19 10:10:41 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67eabe02, org.springframework.security.web.context.SecurityContextPersistenceFilter@26f7b114, org.springframework.security.web.header.HeaderWriterFilter@5f6ba085, org.springframework.security.web.authentication.logout.LogoutFilter@20ddc780, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3eadfbbb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8961e55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@209d0037, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22f0e329, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4197e859, org.springframework.security.web.session.SessionManagementFilter@7e1ce99c, org.springframework.security.web.access.ExceptionTranslationFilter@29a5f924, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73483d4b]
2021-08-19 10:10:41 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 10:10:42 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-19 10:10:42 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 10:10:43 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 10:10:43 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-19 10:10:43 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 10:10:43 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-19 10:10:44 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 19 endpoint(s) beneath base path '/actuator'
2021-08-19 10:10:44 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-19 10:10:44 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-19 10:10:44 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 10:10:44 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 10:10:44 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-19 10:10:45 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 13.14 seconds (JVM running for 14.296)
2021-08-19 10:10:45 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-19 10:10:45 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-19 10:10:45 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-19 10:10:45 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-19 10:10:45 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629339045823,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3021614331466770} from /192.168.1.10
2021-08-19 10:10:45 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 10:10:45 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 10:10:45 INFO  RMI TCP Connection(6)-192.168.1.216 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-19 10:10:45 INFO  RMI TCP Connection(6)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-19 10:10:45 INFO  RMI TCP Connection(6)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Completed initialization in 16 ms
2021-08-19 13:37:25 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 13:37:25 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-19 13:37:25 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1629351446219,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3034014727442987} from /192.168.1.10
2021-08-19 13:37:25 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 13:37:25 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-19 13:37:25 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-19 13:37:28 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-19 13:37:31 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-19 13:37:31 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-19 13:37:32 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-19 13:37:32 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-19 13:37:32 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-19 13:37:32 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-19 13:37:40 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-19 13:37:40 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-19 13:37:40 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-19 13:37:41 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-19 13:37:42 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-19 13:37:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-19 13:37:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-19 13:37:44 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 78ms. Found 0 Redis repository interfaces.
2021-08-19 13:37:45 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=643a4c8d-e45a-3f82-a4bb-ad76c98a1153
2021-08-19 13:37:45 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@60fc7f43' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:37:45 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$92bc74a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:37:45 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:37:45 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:37:45 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$fe6b0cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:37:45 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:37:46 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-19 13:37:46 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-19 13:37:46 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-19 13:37:46 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-19 13:37:46 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-19 13:37:46 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 4610 ms
2021-08-19 13:37:47 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 13:37:47 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5ad40184
2021-08-19 13:37:48 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-19 13:37:49 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-19 13:37:49 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-19 13:37:49 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-19 13:37:52 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23adbd6b, org.springframework.security.web.context.SecurityContextPersistenceFilter@39f7cc46, org.springframework.security.web.header.HeaderWriterFilter@89ff043, org.springframework.security.web.authentication.logout.LogoutFilter@5cf6ba1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ca5da54, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7621c3f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@508abc74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11d0bff5, org.springframework.security.web.session.SessionManagementFilter@1f57fa23, org.springframework.security.web.access.ExceptionTranslationFilter@2a4f1bc5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45a4587d]
2021-08-19 13:37:52 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5eadc347, org.springframework.security.web.context.SecurityContextPersistenceFilter@21fa19e4, org.springframework.security.web.header.HeaderWriterFilter@4198921f, org.springframework.security.web.authentication.logout.LogoutFilter@434a72f2, com.nstr.auth.filter.ValidateCodeFilter@2dd08ff1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@743b7025, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33a58fcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36a8ebca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28b16193, org.springframework.security.web.session.SessionManagementFilter@44181746, org.springframework.security.web.access.ExceptionTranslationFilter@f73a7cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e93d23e]
2021-08-19 13:37:52 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8961e55, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e1ce99c, org.springframework.security.web.header.HeaderWriterFilter@29a5f924, org.springframework.security.web.authentication.logout.LogoutFilter@3b39bee2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@30b29f55, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@73483d4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26f7b114, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@209d0037, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67eabe02, org.springframework.security.web.session.SessionManagementFilter@5f6ba085, org.springframework.security.web.access.ExceptionTranslationFilter@6c569caf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37922937]
2021-08-19 13:37:52 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 13:37:52 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-19 13:37:53 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 13:37:53 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 13:37:53 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-19 13:37:53 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 13:37:53 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-19 13:37:54 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 19 endpoint(s) beneath base path '/actuator'
2021-08-19 13:37:54 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-19 13:37:54 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-19 13:37:54 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 13:37:54 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 13:37:54 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-19 13:37:55 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 17.254 seconds (JVM running for 18.562)
2021-08-19 13:37:55 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-19 13:37:55 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-19 13:37:55 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-19 13:37:55 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-19 13:37:55 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629351475739,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3034044247691919} from /192.168.1.10
2021-08-19 13:37:55 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 13:37:55 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 13:37:55 INFO  RMI TCP Connection(1)-192.168.1.216 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-19 13:37:55 INFO  RMI TCP Connection(1)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-19 13:37:55 INFO  RMI TCP Connection(1)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Completed initialization in 15 ms
2021-08-19 13:38:14 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 13:38:14 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-19 13:38:14 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-19 13:38:15 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1629351495553,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3034064061030142} from /192.168.1.10
2021-08-19 13:38:15 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 13:38:15 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 13:38:15 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-19 13:38:18 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-19 13:38:18 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-19 13:38:25 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-19 13:38:25 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-19 13:38:25 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-19 13:38:25 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-19 13:38:25 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-19 13:38:26 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-19 13:38:26 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-19 13:38:27 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 33ms. Found 0 Redis repository interfaces.
2021-08-19 13:38:27 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=643a4c8d-e45a-3f82-a4bb-ad76c98a1153
2021-08-19 13:38:27 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@60fc7f43' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:38:27 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$92bc74a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:38:27 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:38:27 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:38:27 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$fe6b0cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:38:27 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:38:28 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-19 13:38:28 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-19 13:38:28 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-19 13:38:28 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-19 13:38:28 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-19 13:38:28 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 3250 ms
2021-08-19 13:38:28 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 13:38:28 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5ad40184
2021-08-19 13:38:29 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-19 13:38:30 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-19 13:38:30 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-19 13:38:30 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-19 13:38:32 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11d0bff5, org.springframework.security.web.context.SecurityContextPersistenceFilter@5687ade6, org.springframework.security.web.header.HeaderWriterFilter@4d145177, org.springframework.security.web.authentication.logout.LogoutFilter@5cca5ff3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@57a0aeb8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@519a81dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77b01226, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c1fed69, org.springframework.security.web.session.SessionManagementFilter@4e9d203e, org.springframework.security.web.access.ExceptionTranslationFilter@224e7aa5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@70a91d72]
2021-08-19 13:38:32 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28b16193, org.springframework.security.web.context.SecurityContextPersistenceFilter@33a58fcb, org.springframework.security.web.header.HeaderWriterFilter@44181746, org.springframework.security.web.authentication.logout.LogoutFilter@5c8e7687, com.nstr.auth.filter.ValidateCodeFilter@2dd08ff1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5eadc347, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36a8ebca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@328e687e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78e34499, org.springframework.security.web.session.SessionManagementFilter@21fa19e4, org.springframework.security.web.access.ExceptionTranslationFilter@4198921f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@743b7025]
2021-08-19 13:38:32 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67eabe02, org.springframework.security.web.context.SecurityContextPersistenceFilter@26f7b114, org.springframework.security.web.header.HeaderWriterFilter@5f6ba085, org.springframework.security.web.authentication.logout.LogoutFilter@20ddc780, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3eadfbbb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8961e55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@209d0037, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22f0e329, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4197e859, org.springframework.security.web.session.SessionManagementFilter@7e1ce99c, org.springframework.security.web.access.ExceptionTranslationFilter@29a5f924, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73483d4b]
2021-08-19 13:38:32 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 13:38:33 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-19 13:38:33 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 13:38:33 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 13:38:33 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-19 13:38:33 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 13:38:34 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-19 13:38:35 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 19 endpoint(s) beneath base path '/actuator'
2021-08-19 13:38:35 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-19 13:38:35 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-19 13:38:35 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 13:38:35 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 13:38:35 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-19 13:38:36 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 13.998 seconds (JVM running for 15.176)
2021-08-19 13:38:36 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-19 13:38:36 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-19 13:38:36 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-19 13:38:36 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-19 13:38:36 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629351516766,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3034085274727144} from /192.168.1.10
2021-08-19 13:38:36 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 13:38:36 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 13:38:37 INFO  RMI TCP Connection(10)-192.168.1.216 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-19 13:38:37 INFO  RMI TCP Connection(10)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-19 13:38:37 INFO  RMI TCP Connection(10)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Completed initialization in 17 ms
2021-08-19 13:54:18 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 13:54:18 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-19 13:54:18 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-19 13:54:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-19 13:54:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-19 13:54:18 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-19 13:54:18 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-19 13:54:19 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1629352459685,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3035028193626969} from /192.168.1.10
2021-08-19 13:54:19 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-19 13:54:19 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 13:54:21 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-19 13:54:21 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-19 13:54:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-19 13:54:27 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-19 13:54:27 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-19 13:56:09 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-19 13:56:09 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-19 13:56:09 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-19 13:56:10 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-19 13:56:10 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-19 13:56:12 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-19 13:56:12 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-19 13:56:12 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 53ms. Found 0 Redis repository interfaces.
2021-08-19 13:56:12 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=643a4c8d-e45a-3f82-a4bb-ad76c98a1153
2021-08-19 13:56:12 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@77c23d90' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:56:12 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$12ed5732] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:56:12 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:56:12 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:56:12 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$82c9cbf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:56:13 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 13:56:13 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-19 13:56:13 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-19 13:56:13 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-19 13:56:13 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-19 13:56:13 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-19 13:56:13 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 3663 ms
2021-08-19 13:56:14 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 13:56:14 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@3f908bc0
2021-08-19 13:56:15 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-19 13:56:15 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-19 13:56:15 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-19 13:56:15 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-19 13:56:18 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@629dfb5a, org.springframework.security.web.context.SecurityContextPersistenceFilter@519a81dd, org.springframework.security.web.header.HeaderWriterFilter@4e9d203e, org.springframework.security.web.authentication.logout.LogoutFilter@10664c3d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16e3d6d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d8b9dee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c7b100b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c955487, org.springframework.security.web.session.SessionManagementFilter@5687ade6, org.springframework.security.web.access.ExceptionTranslationFilter@4d145177, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@402d76c7]
2021-08-19 13:56:18 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5776a9f8, org.springframework.security.web.context.SecurityContextPersistenceFilter@328e687e, org.springframework.security.web.header.HeaderWriterFilter@33a58fcb, org.springframework.security.web.authentication.logout.LogoutFilter@6c056020, com.nstr.auth.filter.ValidateCodeFilter@30a791a6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78e34499, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@434a72f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c8e7687, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6771efaa, org.springframework.security.web.session.SessionManagementFilter@36a8ebca, org.springframework.security.web.access.ExceptionTranslationFilter@21fa19e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28b16193]
2021-08-19 13:56:18 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73072745, org.springframework.security.web.context.SecurityContextPersistenceFilter@22f0e329, org.springframework.security.web.header.HeaderWriterFilter@26f7b114, org.springframework.security.web.authentication.logout.LogoutFilter@4dc5b887, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7c9c7e7d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4197e859, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b39bee2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20ddc780, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bdbfbc6, org.springframework.security.web.session.SessionManagementFilter@209d0037, org.springframework.security.web.access.ExceptionTranslationFilter@7e1ce99c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67eabe02]
2021-08-19 13:56:18 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 13:56:18 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-19 13:56:19 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 13:56:19 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 13:56:19 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-19 13:56:19 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 13:56:19 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-19 13:56:20 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 19 endpoint(s) beneath base path '/actuator'
2021-08-19 13:56:21 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-19 13:56:21 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-19 13:56:21 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 13:56:21 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 13:56:21 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-19 13:56:21 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 14.52 seconds (JVM running for 15.846)
2021-08-19 13:56:21 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-19 13:56:21 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-19 13:56:21 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-19 13:56:21 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-19 13:56:21 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629352582265,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3035150773332866} from /192.168.1.10
2021-08-19 13:56:21 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 13:56:21 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 13:56:22 INFO  RMI TCP Connection(6)-192.168.1.216 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-19 13:56:22 INFO  RMI TCP Connection(6)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-19 13:56:22 INFO  RMI TCP Connection(6)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Completed initialization in 14 ms
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":false,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629353187367,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3035755875092301} from /192.168.1.10
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.beat.sender com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='DEFAULT_GROUP@@nstr-auth', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 14:06:54 INFO  com.alibaba.nacos.client.naming.updater com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming modified ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":false,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629353187367,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3035755875092301} from /192.168.1.10
2021-08-19 14:06:54 INFO  com.alibaba.nacos.client.naming.updater com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":false,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629353215085,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3035783593091758} from /192.168.1.10
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming modified ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 14:06:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 16:34:29 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 16:34:29 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-19 16:34:29 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-19 16:34:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-19 16:34:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-19 16:34:29 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-19 16:34:29 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-19 16:34:30 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1629362070859,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3044639367015252} from /192.168.1.10
2021-08-19 16:34:30 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 16:34:30 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 16:34:32 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-19 16:34:32 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-19 16:34:35 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-19 16:34:38 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-19 16:34:38 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-19 16:35:08 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-19 16:35:08 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-19 16:35:08 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-19 16:35:09 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-19 16:35:09 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-19 16:35:10 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-19 16:35:10 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-19 16:35:10 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 34ms. Found 0 Redis repository interfaces.
2021-08-19 16:35:11 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=bd0ef498-a730-30de-a3fa-92401e644e90
2021-08-19 16:35:11 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@fcf9525' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 16:35:11 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$6a4e9196] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 16:35:11 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 16:35:11 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 16:35:11 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$5f8dd723] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 16:35:11 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 16:35:12 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-19 16:35:12 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-19 16:35:12 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-19 16:35:12 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-19 16:35:12 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-19 16:35:12 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 3151 ms
2021-08-19 16:35:12 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 16:35:12 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@42238078
2021-08-19 16:35:13 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-19 16:35:13 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-19 16:35:13 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-19 16:35:13 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-19 16:35:15 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@758ac46, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fd77205, org.springframework.security.web.header.HeaderWriterFilter@70a91d72, org.springframework.security.web.authentication.logout.LogoutFilter@4198921f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@73483d4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@288915a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56017274, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d2f8ee7, org.springframework.security.web.session.SessionManagementFilter@402d76c7, org.springframework.security.web.access.ExceptionTranslationFilter@779cb140, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1677f98b]
2021-08-19 16:35:16 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61cff1e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fa2473a, org.springframework.security.web.header.HeaderWriterFilter@30d944d8, org.springframework.security.web.authentication.logout.LogoutFilter@795949fb, com.nstr.auth.filter.ValidateCodeFilter@3ee68377, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e5a77ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47629063, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d67e3d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13f17b8f, org.springframework.security.web.session.SessionManagementFilter@1c76b2fe, org.springframework.security.web.access.ExceptionTranslationFilter@5abc488d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3013e1e8]
2021-08-19 16:35:16 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b247ef6, org.springframework.security.web.context.SecurityContextPersistenceFilter@113e6e06, org.springframework.security.web.header.HeaderWriterFilter@1d7f0cd0, org.springframework.security.web.authentication.logout.LogoutFilter@cce672c, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7db679, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@43c64d6f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ae5e1cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f9979cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@188532da, org.springframework.security.web.session.SessionManagementFilter@325a781c, org.springframework.security.web.access.ExceptionTranslationFilter@a0e35c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@638e8194]
2021-08-19 16:35:16 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 16:35:16 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-19 16:35:16 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 16:35:16 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 16:35:16 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-19 16:35:16 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 16:35:17 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-19 16:35:17 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 20 endpoint(s) beneath base path '/actuator'
2021-08-19 16:35:17 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-19 16:35:17 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-19 16:35:17 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 16:35:17 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 16:35:17 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-19 16:35:18 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 11.771 seconds (JVM running for 13.203)
2021-08-19 16:35:18 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-19 16:35:18 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-19 16:35:18 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-19 16:35:18 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-19 16:35:18 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629362118889,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3044687396982802} from /192.168.1.10
2021-08-19 16:35:18 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2021-08-19 16:35:18 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2021-08-19 16:35:18 INFO  RMI TCP Connection(8)-192.168.1.216 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-19 16:35:18 INFO  RMI TCP Connection(8)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-19 16:35:18 INFO  RMI TCP Connection(8)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Completed initialization in 13 ms
2021-08-19 17:50:04 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 17:50:04 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-19 17:50:04 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-19 17:50:04 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-19 17:50:04 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-19 17:50:04 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-19 17:50:04 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-19 17:50:05 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1629366605806,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3049174314392098} from /192.168.1.10
2021-08-19 17:50:05 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2021-08-19 17:50:05 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-19 17:50:06 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-19 17:50:06 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-19 17:50:09 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-19 17:50:13 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-19 17:50:13 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-19 17:51:49 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-19 17:51:49 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-19 17:51:49 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-19 17:51:49 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-19 17:51:49 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-19 17:51:50 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-19 17:51:50 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-19 17:51:50 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
2021-08-19 17:51:51 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=bd0ef498-a730-30de-a3fa-92401e644e90
2021-08-19 17:51:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a9869a8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 17:51:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$6438d033] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 17:51:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 17:51:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 17:51:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$597815c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 17:51:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-19 17:51:51 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-19 17:51:51 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-19 17:51:51 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-19 17:51:51 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-19 17:51:51 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-19 17:51:51 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 1879 ms
2021-08-19 17:51:52 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 17:51:52 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@57839834
2021-08-19 17:51:52 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-19 17:51:52 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-19 17:51:52 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-19 17:51:52 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-19 17:51:54 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a67bde5, org.springframework.security.web.context.SecurityContextPersistenceFilter@5abc488d, org.springframework.security.web.header.HeaderWriterFilter@5466a819, org.springframework.security.web.authentication.logout.LogoutFilter@3fe21d0e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@58038583, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c76b2fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62b0792, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c648e38, org.springframework.security.web.session.SessionManagementFilter@401d83ce, org.springframework.security.web.access.ExceptionTranslationFilter@2a7b4bb6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ef04239]
2021-08-19 17:51:54 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e577eed, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b55fc83, org.springframework.security.web.header.HeaderWriterFilter@60317de8, org.springframework.security.web.authentication.logout.LogoutFilter@4e3c0627, com.nstr.auth.filter.ValidateCodeFilter@5fa9247b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fee3c9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3615f8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d200dce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11a0c708, org.springframework.security.web.session.SessionManagementFilter@363e2009, org.springframework.security.web.access.ExceptionTranslationFilter@c3836b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@784c74e]
2021-08-19 17:51:54 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5978ba12, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a286095, org.springframework.security.web.header.HeaderWriterFilter@33d08a24, org.springframework.security.web.authentication.logout.LogoutFilter@1196537d, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3ecc9baa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@73a88711, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26723525, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11c40a65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43f5b014, org.springframework.security.web.session.SessionManagementFilter@255b84a9, org.springframework.security.web.access.ExceptionTranslationFilter@30259c61, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3093161a]
2021-08-19 17:51:54 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-19 17:51:54 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-19 17:51:54 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-19 17:51:54 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 17:51:54 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-19 17:51:54 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-19 17:51:54 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-19 17:51:55 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 20 endpoint(s) beneath base path '/actuator'
2021-08-19 17:51:55 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-19 17:51:55 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-19 17:51:55 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-19 17:51:55 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-19 17:51:55 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-19 17:51:55 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 7.873 seconds (JVM running for 9.029)
2021-08-19 17:51:55 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-19 17:51:55 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-19 17:51:55 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-19 17:51:55 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-19 17:51:56 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1629366716779,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3049285287617489} from /192.168.1.10
2021-08-19 17:51:56 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 17:51:56 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-19 17:51:56 INFO  RMI TCP Connection(3)-192.168.1.216 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-19 17:51:56 INFO  RMI TCP Connection(3)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-19 17:51:56 INFO  RMI TCP Connection(3)-192.168.1.216 org.springframework.web.servlet.DispatcherServlet Completed initialization in 15 ms
