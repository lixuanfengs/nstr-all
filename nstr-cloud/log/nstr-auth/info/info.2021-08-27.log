2021-08-27 14:19:11 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-27 14:19:18 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-27 14:19:18 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-27 14:19:19 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-27 14:19:19 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-27 14:19:19 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-27 14:19:19 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-27 14:19:20 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1630045725342,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3699486689031956} from /192.168.1.10
2021-08-27 14:19:20 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-27 14:19:20 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-27 14:19:20 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-27 14:19:21 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-27 14:19:21 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-27 14:19:24 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-27 14:19:25 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-27 14:19:26 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-27 14:19:26 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-27 14:19:27 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-27 14:19:27 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-27 14:20:50 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-27 14:20:50 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-27 14:20:50 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-27 14:20:50 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-27 14:20:50 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-27 14:20:55 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-27 14:20:55 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-27 14:20:55 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 119ms. Found 0 Redis repository interfaces.
2021-08-27 14:20:56 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=bd0ef498-a730-30de-a3fa-92401e644e90
2021-08-27 14:20:56 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3fb8e8cf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 14:20:56 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$4aa15efa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 14:20:56 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 14:20:56 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 14:20:56 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$3fe0a487] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 14:20:57 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 14:20:58 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-27 14:20:58 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-27 14:20:58 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-27 14:20:58 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-27 14:20:58 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-27 14:20:58 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 7636 ms
2021-08-27 14:20:58 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-27 14:20:59 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@2a09e0d4
2021-08-27 14:21:01 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-27 14:21:02 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-27 14:21:02 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-27 14:21:02 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-27 14:21:06 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30515926, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e853285, org.springframework.security.web.header.HeaderWriterFilter@6ae5ead4, org.springframework.security.web.authentication.logout.LogoutFilter@5b9b31e0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5fe024f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0f8153, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72663b1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45871259, org.springframework.security.web.session.SessionManagementFilter@4f00ee48, org.springframework.security.web.access.ExceptionTranslationFilter@4dfb114e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2bbcb801]
2021-08-27 14:21:06 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2479a21f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dd2c22a, org.springframework.security.web.header.HeaderWriterFilter@2a04cf8a, org.springframework.security.web.authentication.logout.LogoutFilter@4f951635, com.nstr.auth.filter.ValidateCodeFilter@772dfe03, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fc27e3f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@527372ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e878fb1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18acf886, org.springframework.security.web.session.SessionManagementFilter@611f6bfc, org.springframework.security.web.access.ExceptionTranslationFilter@5043e5a7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7318d347]
2021-08-27 14:21:06 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46329e85, org.springframework.security.web.context.SecurityContextPersistenceFilter@56cdf69b, org.springframework.security.web.header.HeaderWriterFilter@30a4749a, org.springframework.security.web.authentication.logout.LogoutFilter@d556143, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@5b2a690f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@788a47fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ee910d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dfab333, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e840be5, org.springframework.security.web.session.SessionManagementFilter@28f63018, org.springframework.security.web.access.ExceptionTranslationFilter@21c920a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f113675]
2021-08-27 14:21:06 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-27 14:21:07 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-27 14:21:07 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-27 14:21:07 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-27 14:21:07 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-27 14:21:07 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-27 14:21:08 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-27 14:21:09 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 20 endpoint(s) beneath base path '/actuator'
2021-08-27 14:21:09 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-27 14:21:09 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-27 14:21:09 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-27 14:21:09 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-27 14:21:09 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-27 14:21:10 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 28.035 seconds (JVM running for 41.488)
2021-08-27 14:21:10 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-27 14:21:10 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-27 14:21:10 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-27 14:21:10 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-27 14:21:10 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1630045826388,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3699587734525196} from /192.168.1.10
2021-08-27 14:21:10 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-27 14:21:10 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-27 14:21:10 INFO  http-nio-1600-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-27 14:21:10 INFO  http-nio-1600-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-27 14:21:10 INFO  http-nio-1600-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 59 ms
2021-08-27 14:21:10 INFO  registrationTask1 de.codecentric.boot.admin.client.registration.ApplicationRegistrator Application registered itself as 118aee74b410
2021-08-27 17:47:59 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [polling-resp] config changed. dataId=nstr-auth.yaml, group=DEFAULT_GROUP
2021-08-27 17:47:59 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 com.alibaba.nacos.client.config.impl.ClientWorker get changedGroupKeys:[nstr-auth.yaml+DEFAULT_GROUP]
2021-08-27 17:47:59 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [data-received] dataId=nstr-auth.yaml, group=DEFAULT_GROUP, tenant=null, md5=cf95ead2c8d2a34e01ac00399e22b86e, content=spring:
  cloud:
    nacos:
      discovery:
        server-addr: ${nacos.url}:8848
  datasource:
  ..., type=yaml
2021-08-27 17:47:59 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [notify-context] dataId=nstr-auth.yaml, group=DEFAULT_GROUP, md5=cf95ead2c8d2a34e01ac00399e22b86e
2021-08-27 17:48:00 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-27 17:48:00 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 org.springframework.boot.SpringApplication No active profile set, falling back to default profiles: default
2021-08-27 17:48:00 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 org.springframework.boot.SpringApplication Started application in 0.745 seconds (JVM running for 12451.644)
2021-08-27 17:48:00 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 org.springframework.cloud.endpoint.event.RefreshEventListener Refresh keys changed: [nstr.cloud.security.only-fetch-by-gateway]
2021-08-27 17:48:00 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [notify-ok] dataId=nstr-auth.yaml, group=DEFAULT_GROUP, md5=cf95ead2c8d2a34e01ac00399e22b86e, listener=com.alibaba.cloud.nacos.refresh.NacosContextRefresher$1@419dd350 
2021-08-27 17:48:00 INFO  com.alibaba.nacos.client.Worker.longPolling.fixed-192.168.1.10_8848 com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [notify-listener] time cost=1101ms in ClientWorker, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, md5=cf95ead2c8d2a34e01ac00399e22b86e, listener=com.alibaba.cloud.nacos.refresh.NacosContextRefresher$1@419dd350 
2021-08-27 17:48:08 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-27 17:48:08 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-27 17:48:08 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-27 17:48:08 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-27 17:48:08 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-27 17:48:08 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-27 17:48:08 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-27 17:48:08 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1630057689136,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3711963637096226} from /192.168.1.10
2021-08-27 17:48:08 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-27 17:48:09 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-27 17:48:10 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-27 17:48:10 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-27 17:48:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-27 17:48:16 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-27 17:48:16 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-27 17:48:43 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-27 17:48:44 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-27 17:48:44 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-27 17:48:44 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-27 17:48:44 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-27 17:48:49 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-27 17:48:49 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-27 17:48:49 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 95ms. Found 0 Redis repository interfaces.
2021-08-27 17:48:50 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=bd0ef498-a730-30de-a3fa-92401e644e90
2021-08-27 17:48:50 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a15e4fd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 17:48:50 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$9aa95ab8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 17:48:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 17:48:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 17:48:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$8fe8a045] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 17:48:51 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 17:48:51 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-27 17:48:52 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-27 17:48:52 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-27 17:48:52 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-27 17:48:52 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-27 17:48:52 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 7784 ms
2021-08-27 17:48:52 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-27 17:48:52 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5f1908c5
2021-08-27 17:48:53 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-27 17:48:55 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-27 17:48:55 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-27 17:48:55 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-27 17:48:58 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@611f6bfc, org.springframework.security.web.context.SecurityContextPersistenceFilter@57b9ccc3, org.springframework.security.web.header.HeaderWriterFilter@539d69b7, org.springframework.security.web.authentication.logout.LogoutFilter@c9acbec, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8d86c4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8119d43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40e41f16, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dd2c22a, org.springframework.security.web.session.SessionManagementFilter@4230d4f, org.springframework.security.web.access.ExceptionTranslationFilter@2f6b2b06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35d65a43]
2021-08-27 17:48:58 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28f63018, org.springframework.security.web.context.SecurityContextPersistenceFilter@61642225, org.springframework.security.web.header.HeaderWriterFilter@18acf886, org.springframework.security.web.authentication.logout.LogoutFilter@46bd2d4b, com.nstr.auth.filter.ValidateCodeFilter@6157c26f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@30a4749a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8e41d4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77f3ac1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56cdf69b, org.springframework.security.web.session.SessionManagementFilter@2d1b923f, org.springframework.security.web.access.ExceptionTranslationFilter@2479a21f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21c920a2]
2021-08-27 17:48:58 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2376463f, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e7b57b3, org.springframework.security.web.header.HeaderWriterFilter@643b983a, org.springframework.security.web.authentication.logout.LogoutFilter@4c7f5f51, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@788a47fc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a8b30a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37875b6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f45efe8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@710e1af6, org.springframework.security.web.session.SessionManagementFilter@62bab0a4, org.springframework.security.web.access.ExceptionTranslationFilter@28062c6a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d16fc4b]
2021-08-27 17:48:58 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-27 17:48:58 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-27 17:48:59 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-27 17:48:59 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-27 17:48:59 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-27 17:48:59 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-27 17:49:00 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-27 17:49:01 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 20 endpoint(s) beneath base path '/actuator'
2021-08-27 17:49:01 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-27 17:49:01 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-27 17:49:01 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-27 17:49:01 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-27 17:49:01 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-27 17:49:01 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 24.458 seconds (JVM running for 29.208)
2021-08-27 17:49:01 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-27 17:49:01 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-27 17:49:01 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-27 17:49:01 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-27 17:49:02 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1630057742174,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3712016675536308} from /192.168.1.10
2021-08-27 17:49:02 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-27 17:49:02 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-27 17:49:02 INFO  registrationTask1 de.codecentric.boot.admin.client.registration.ApplicationRegistrator Application registered itself as 118aee74b410
2021-08-27 17:49:02 INFO  http-nio-1600-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-27 17:49:02 INFO  http-nio-1600-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-27 17:49:02 INFO  http-nio-1600-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 25 ms
2021-08-27 18:07:04 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-27 18:07:04 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService
2021-08-27 18:07:04 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registering from Nacos Server now...
2021-08-27 18:07:04 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [BEAT] removing beat: DEFAULT_GROUP@@nstr-auth:192.168.1.216:1600 from beat map.
2021-08-27 18:07:04 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2021-08-27 18:07:04 INFO  SpringContextShutdownHook com.alibaba.cloud.nacos.registry.NacosServiceRegistry De-registration finished.
2021-08-27 18:07:04 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2021-08-27 18:07:05 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1630058825469,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3713099970135374} from /192.168.1.10
2021-08-27 18:07:05 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming removed ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2021-08-27 18:07:05 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(0) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> []
2021-08-27 18:07:07 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2021-08-27 18:07:07 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2021-08-27 18:07:10 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialWatcher [null] CredentialWatcher is stopped
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.identify.CredentialService [null] CredentialService is freed
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.alibaba.nacos.client.naming com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2021-08-27 18:07:13 INFO  SpringContextShutdownHook org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource start closing ....
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown initiated...
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.zaxxer.hikari.HikariDataSource base - Shutdown completed.
2021-08-27 18:07:13 INFO  SpringContextShutdownHook com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource all closed success,bye
2021-08-27 18:07:37 INFO  main com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2021-08-27 18:07:37 INFO  main com.alibaba.nacos.client.config.impl.Limiter limitTime:5.0
2021-08-27 18:07:37 INFO  main com.alibaba.nacos.client.config.utils.JvmUtil isMultiInstance:false
2021-08-27 18:07:37 INFO  main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: [BootstrapPropertySource {name='bootstrapProperties-nstr-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-nstr-auth,DEFAULT_GROUP'}]
2021-08-27 18:07:37 INFO  main com.nstr.auth.NstrAuthApplication No active profile set, falling back to default profiles: default
2021-08-27 18:07:42 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-27 18:07:42 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-27 18:07:42 INFO  main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 73ms. Found 0 Redis repository interfaces.
2021-08-27 18:07:43 INFO  main org.springframework.cloud.context.scope.GenericScope BeanFactory id=bd0ef498-a730-30de-a3fa-92401e644e90
2021-08-27 18:07:44 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3fb8e8cf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 18:07:44 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig' of type [com.nstr.common.security.starter.config.NstrCloudSecurityAutoConfig$$EnhancerBySpringCGLIB$$4aa15efa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 18:07:44 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 18:07:44 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 18:07:44 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$3fe0a487] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 18:07:44 INFO  main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-08-27 18:07:45 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat initialized with port(s): 1600 (http)
2021-08-27 18:07:45 INFO  main org.apache.coyote.http11.Http11NioProtocol Initializing ProtocolHandler ["http-nio-1600"]
2021-08-27 18:07:45 INFO  main org.apache.catalina.core.StandardService Starting service [Tomcat]
2021-08-27 18:07:45 INFO  main org.apache.catalina.core.StandardEngine Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-08-27 18:07:45 INFO  main org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring embedded WebApplicationContext
2021-08-27 18:07:45 INFO  main org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext Root WebApplicationContext: initialization completed in 7677 ms
2021-08-27 18:07:45 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-27 18:07:45 INFO  main com.netflix.config.DynamicPropertyFactory DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@41c983d3
2021-08-27 18:07:47 INFO  main com.zaxxer.hikari.HikariDataSource base - Starting...
2021-08-27 18:07:48 INFO  main com.zaxxer.hikari.HikariDataSource base - Start completed.
2021-08-27 18:07:48 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource - add a datasource named [base] success
2021-08-27 18:07:48 INFO  main com.baomidou.dynamic.datasource.DynamicRoutingDataSource dynamic-datasource initial loaded [1] datasource,primary datasource named [base]
2021-08-27 18:07:51 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5043e5a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@4230d4f, org.springframework.security.web.header.HeaderWriterFilter@2f6b2b06, org.springframework.security.web.authentication.logout.LogoutFilter@592fb393, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@258c38ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57b9ccc3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59d44c64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a04cf8a, org.springframework.security.web.session.SessionManagementFilter@539d69b7, org.springframework.security.web.access.ExceptionTranslationFilter@275cb78f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3fa5c9ae]
2021-08-27 18:07:51 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/**'], Ant [pattern='/login']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21c920a2, org.springframework.security.web.context.SecurityContextPersistenceFilter@18acf886, org.springframework.security.web.header.HeaderWriterFilter@5fc27e3f, org.springframework.security.web.authentication.logout.LogoutFilter@77f3ac1e, com.nstr.auth.filter.ValidateCodeFilter@615ef647, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5035ce0b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d1b923f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61642225, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30a4749a, org.springframework.security.web.session.SessionManagementFilter@2479a21f, org.springframework.security.web.access.ExceptionTranslationFilter@7318d347, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b0a781e]
2021-08-27 18:07:51 INFO  main org.springframework.security.web.DefaultSecurityFilterChain Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d16fc4b, org.springframework.security.web.context.SecurityContextPersistenceFilter@643b983a, org.springframework.security.web.header.HeaderWriterFilter@ab8d6a6, org.springframework.security.web.authentication.logout.LogoutFilter@f45efe8, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6aa45b55, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@14f8ca45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62bab0a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e7b57b3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a8b30a3, org.springframework.security.web.session.SessionManagementFilter@28062c6a, org.springframework.security.web.access.ExceptionTranslationFilter@751e632a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bc85f82]
2021-08-27 18:07:51 INFO  main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-08-27 18:07:51 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Initializing ExecutorService 'applicationTaskExecutor'
2021-08-27 18:07:52 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2021-08-27 18:07:52 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-27 18:07:52 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-08-27 18:07:52 INFO  main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-08-27 18:07:53 INFO  main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-08-27 18:07:53 INFO  main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 20 endpoint(s) beneath base path '/actuator'
2021-08-27 18:07:54 INFO  main org.apache.coyote.http11.Http11NioProtocol Starting ProtocolHandler ["http-nio-1600"]
2021-08-27 18:07:54 INFO  main org.springframework.boot.web.embedded.tomcat.TomcatWebServer Tomcat started on port(s): 1600 (http) with context path ''
2021-08-27 18:07:54 INFO  main com.alibaba.nacos.client.naming [BEAT] adding beat: BeatInfo{port=1600, ip='192.168.1.216', weight=1.0, serviceName='DEFAULT_GROUP@@nstr-auth', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2021-08-27 18:07:54 INFO  main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@nstr-auth with instance: Instance{instanceId='null', ip='192.168.1.216', port=1600, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2021-08-27 18:07:54 INFO  main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP nstr-auth 192.168.1.216:1600 register finished
2021-08-27 18:07:54 INFO  http-nio-1600-exec-1 org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-08-27 18:07:54 INFO  http-nio-1600-exec-1 org.springframework.web.servlet.DispatcherServlet Initializing Servlet 'dispatcherServlet'
2021-08-27 18:07:54 INFO  http-nio-1600-exec-1 org.springframework.web.servlet.DispatcherServlet Completed initialization in 17 ms
2021-08-27 18:07:54 INFO  main com.nstr.auth.NstrAuthApplication Started NstrAuthApplication in 25.584 seconds (JVM running for 32.064)
2021-08-27 18:07:54 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth+DEFAULT_GROUP
2021-08-27 18:07:54 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth, group=DEFAULT_GROUP, cnt=1
2021-08-27 18:07:54 INFO  main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-192.168.1.10_8848] [subscribe] nstr-auth.yaml+DEFAULT_GROUP
2021-08-27 18:07:54 INFO  main com.alibaba.nacos.client.config.impl.CacheData [fixed-192.168.1.10_8848] [add-listener] ok, tenant=, dataId=nstr-auth.yaml, group=DEFAULT_GROUP, cnt=1
2021-08-27 18:07:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@nstr-auth\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth\",\"ip\":\"192.168.1.216\",\"port\":1600,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@nstr-auth\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1630058874705,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":3713149206582845} from /192.168.1.10
2021-08-27 18:07:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming new ips(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-27 18:07:54 INFO  com.alibaba.nacos.naming.push.receiver com.alibaba.nacos.client.naming current ips:(1) service: DEFAULT_GROUP@@nstr-auth@@DEFAULT -> [{"instanceId":"192.168.1.216#1600#DEFAULT#DEFAULT_GROUP@@nstr-auth","ip":"192.168.1.216","port":1600,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@nstr-auth","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2021-08-27 18:07:54 INFO  registrationTask1 de.codecentric.boot.admin.client.registration.ApplicationRegistrator Application registered itself as 118aee74b410
